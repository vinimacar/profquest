<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProfQuest - Sistema de Geração de Atividades</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header class="bg-primary text-white py-3">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-graduation-cap me-2"></i>ProfQuest</h1>
                    <p class="lead mb-0">Sistema Inteligente para Geração de Atividades Pedagógicas</p>
                </div>
                <div class="col-md-4 text-end">
                    <button class="btn btn-light" id="btnAjuda">
                        <i class="fas fa-question-circle me-1"></i> Ajuda
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="container my-4">
        <div class="row">
            <div class="col-lg-3">
                <div class="card mb-4">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="fas fa-tasks me-2"></i>Menu</h5>
                    </div>
                    <div class="list-group list-group-flush">
                        <a href="#" class="list-group-item list-group-item-action active" id="menuNovaAtividade">
                            <i class="fas fa-plus-circle me-2"></i>Nova Atividade
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" id="menuHistorico">
                            <i class="fas fa-history me-2"></i>Histórico
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" id="menuConfiguracoes">
                            <i class="fas fa-cog me-2"></i>Configurações
                        </a>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="fas fa-school me-2"></i>Perfil Escolar</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="logoEscola" class="form-label">Logo da Escola</label>
                            <input type="file" class="form-control" id="logoEscola" accept="image/*">
                            <div id="previewLogo" class="mt-2 text-center d-none">
                                <img src="" alt="Logo da Escola" class="img-thumbnail" style="max-height: 100px;">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="nomeEscola" class="form-label">Nome da Escola</label>
                            <input type="text" class="form-control" id="nomeEscola">
                        </div>
                        <button class="btn btn-primary w-100" id="btnSalvarPerfil">
                            <i class="fas fa-save me-1"></i> Salvar Perfil
                        </button>
                    </div>
                </div>
            </div>

            <div class="col-lg-9">
                <!-- Seção de Nova Atividade -->
                <div id="secaoNovaAtividade">
                    <div class="card mb-4">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0"><i class="fas fa-file-alt me-2"></i>Nova Atividade</h5>
                        </div>
                        <div class="card-body">
                            <form id="formNovaAtividade">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="tipoAtividade" class="form-label">Tipo de Atividade</label>
                                        <select class="form-select" id="tipoAtividade" required>
                                            <option value="" selected disabled>Selecione...</option>
                                            <option value="prova">Prova</option>
                                            <option value="exercicio">Exercício</option>
                                            <option value="trabalho">Trabalho</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="disciplina" class="form-label">Disciplina</label>
                                        <select class="form-select" id="disciplina" required>
                                            <option value="" selected disabled>Selecione...</option>
                                            <option value="matematica">Matemática</option>
                                            <option value="portugues">Português</option>
                                            <option value="ciencias">Ciências</option>
                                            <option value="historia">História</option>
                                            <option value="geografia">Geografia</option>
                                            <option value="ingles">Inglês</option>
                                            <option value="fisica">Física</option>
                                            <option value="quimica">Química</option>
                                            <option value="biologia">Biologia</option>
                                            <option value="filosofia">Filosofia</option>
                                            <option value="sociologia">Sociologia</option>
                                            <option value="artes">Artes</option>
                                            <option value="educacaofisica">Educação Física</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="serieAno" class="form-label">Série/Ano</label>
                                        <select class="form-select" id="serieAno" required>
                                            <option value="" selected disabled>Selecione...</option>
                                            <option value="1-ano-ef">1º Ano - Ensino Fundamental</option>
                                            <option value="2-ano-ef">2º Ano - Ensino Fundamental</option>
                                            <option value="3-ano-ef">3º Ano - Ensino Fundamental</option>
                                            <option value="4-ano-ef">4º Ano - Ensino Fundamental</option>
                                            <option value="5-ano-ef">5º Ano - Ensino Fundamental</option>
                                            <option value="6-ano-ef">6º Ano - Ensino Fundamental</option>
                                            <option value="7-ano-ef">7º Ano - Ensino Fundamental</option>
                                            <option value="8-ano-ef">8º Ano - Ensino Fundamental</option>
                                            <option value="9-ano-ef">9º Ano - Ensino Fundamental</option>
                                            <option value="1-ano-em">1º Ano - Ensino Médio</option>
                                            <option value="2-ano-em">2º Ano - Ensino Médio</option>
                                            <option value="3-ano-em">3º Ano - Ensino Médio</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="tipoQuestoes" class="form-label">Tipo de Questões</label>
                                        <select class="form-select" id="tipoQuestoes" required>
                                            <option value="" selected disabled>Selecione...</option>
                                            <option value="fechada">Fechadas (Múltipla Escolha)</option>
                                            <option value="aberta">Abertas (Dissertativas)</option>
                                            <option value="mista">Mistas</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="habilidades" class="form-label">Habilidades a serem avaliadas</label>
                                    <textarea class="form-control" id="habilidades" rows="4" placeholder="Descreva as habilidades que deseja avaliar nesta atividade..." required></textarea>
                                    <div class="form-text">Exemplo: Resolução de equações de segundo grau, interpretação de gráficos, análise de textos literários, etc.</div>
                                </div>

                                <div class="mb-3">
                                    <label for="qtdQuestoes" class="form-label">Quantidade de Questões</label>
                                    <input type="number" class="form-control" id="qtdQuestoes" min="1" max="50" value="10" required>
                                </div>

                                <div class="d-grid">
                                    <button type="submit" class="btn btn-primary btn-lg">
                                        <i class="fas fa-magic me-2"></i>Gerar Questões
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Seção de Questões Geradas (inicialmente oculta) -->
                    <div id="secaoQuestoesGeradas" class="d-none">
                        <div class="card mb-4">
                            <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
                                <h5 class="mb-0"><i class="fas fa-list-ol me-2"></i>Questões Geradas</h5>
                                <div>
                                    <button class="btn btn-light btn-sm me-2" id="btnSelecionarTodas">
                                        <i class="fas fa-check-square me-1"></i> Selecionar Todas
                                    </button>
                                    <button class="btn btn-light btn-sm" id="btnGerarMais">
                                        <i class="fas fa-sync me-1"></i> Gerar Mais
                                    </button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="listaQuestoes" class="mb-4">
                                    <!-- As questões geradas serão inseridas aqui via JavaScript -->
                                </div>
                                
                                <div class="d-flex justify-content-between">
                                    <button class="btn btn-secondary" id="btnVoltar">
                                        <i class="fas fa-arrow-left me-1"></i> Voltar
                                    </button>
                                    <button class="btn btn-primary" id="btnCriarAtividade">
                                        <i class="fas fa-file-pdf me-1"></i> Criar Atividade
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Seção de Configuração da Atividade (inicialmente oculta) -->
                    <div id="secaoConfiguracaoAtividade" class="d-none">
                        <div class="card mb-4">
                            <div class="card-header bg-primary text-white">
                                <h5 class="mb-0"><i class="fas fa-cog me-2"></i>Configuração da Atividade</h5>
                            </div>
                            <div class="card-body">
                                <form id="formConfiguracaoAtividade">
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="tituloAtividade" class="form-label">Título da Atividade</label>
                                            <input type="text" class="form-control" id="tituloAtividade" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="dataAtividade" class="form-label">Data</label>
                                            <input type="date" class="form-control" id="dataAtividade">
                                        </div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="instrucoes" class="form-label">Instruções para os Alunos</label>
                                        <textarea class="form-control" id="instrucoes" rows="3"></textarea>
                                    </div>

                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="incluirCabecalho" checked>
                                                <label class="form-check-label" for="incluirCabecalho">
                                                    Incluir cabeçalho para nome do aluno
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="incluirGabarito">
                                                <label class="form-check-label" for="incluirGabarito">
                                                    Gerar gabarito separado
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="d-flex justify-content-between">
                                        <button type="button" class="btn btn-secondary" id="btnVoltarQuestoes">
                                            <i class="fas fa-arrow-left me-1"></i> Voltar
                                        </button>
                                        <button type="submit" class="btn btn-success">
                                            <i class="fas fa-file-pdf me-1"></i> Gerar PDF
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Seção de Histórico (inicialmente oculta) -->
                <div id="secaoHistorico" class="d-none">
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0"><i class="fas fa-history me-2"></i>Histórico de Atividades</h5>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Data</th>
                                            <th>Título</th>
                                            <th>Tipo</th>
                                            <th>Disciplina</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tabelaHistorico">
                                        <!-- Dados do histórico serão inseridos aqui via JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Seção de Configurações (inicialmente oculta) -->
                <div id="secaoConfiguracoes" class="d-none">
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0"><i class="fas fa-cog me-2"></i>Configurações</h5>
                        </div>
                        <div class="card-body">
                            <form id="formConfiguracoes">
                                <div class="mb-3">
                                    <label for="apiKey" class="form-label">Chave da API do OpenAI (GPT-4)</label>
                                    <input type="password" class="form-control" id="apiKey" placeholder="sk-...">
                                    <div class="form-text">Necessária para a geração de questões. Obtenha sua chave em <a href="https://platform.openai.com/api-keys" target="_blank">OpenAI API Keys</a>.</div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Modelo de IA</label>
                                    <select class="form-select" id="modeloIA">
                                        <option value="gpt-4">GPT-4 (Recomendado)</option>
                                        <option value="gpt-3.5">GPT-3.5</option>
                                    </select>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Tema da Interface</label>
                                    <div class="d-flex">
                                        <div class="form-check me-3">
                                            <input class="form-check-input" type="radio" name="tema" id="temaClaro" value="claro" checked>
                                            <label class="form-check-label" for="temaClaro">
                                                Claro
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="tema" id="temaEscuro" value="escuro">
                                            <label class="form-check-label" for="temaEscuro">
                                                Escuro
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="d-grid">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save me-1"></i> Salvar Configurações
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-dark text-white py-3 mt-5">
        <div class="container text-center">
            <p class="mb-0">ProfQuest &copy; 2023 - Sistema Inteligente para Geração de Atividades Pedagógicas</p>
        </div>
    </footer>

    <!-- Modal de Ajuda -->
    <div class="modal fade" id="modalAjuda" tabindex="-1" aria-labelledby="modalAjudaLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="modalAjudaLabel"><i class="fas fa-question-circle me-2"></i>Ajuda</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fechar"></button>
                </div>
                <div class="modal-body">
                    <h5>Como usar o ProfQuest</h5>
                    <p>O ProfQuest é um sistema que utiliza Inteligência Artificial para ajudar professores a criar atividades pedagógicas de forma rápida e eficiente.</p>
                    
                    <h6>1. Criando uma nova atividade</h6>
                    <ul>
                        <li>Selecione o tipo de atividade (prova, exercício ou trabalho)</li>
                        <li>Escolha a disciplina e a série/ano</li>
                        <li>Defina o tipo de questões (fechadas, abertas ou mistas)</li>
                        <li>Descreva as habilidades que deseja avaliar</li>
                        <li>Indique a quantidade de questões desejada</li>
                        <li>Clique em "Gerar Questões"</li>
                    </ul>
                    
                    <h6>2. Selecionando questões</h6>
                    <ul>
                        <li>Revise as questões geradas pela IA</li>
                        <li>Marque as questões que deseja incluir na atividade</li>
                        <li>Se necessário, clique em "Gerar Mais" para obter questões adicionais</li>
                        <li>Quando estiver satisfeito, clique em "Criar Atividade"</li>
                    </ul>
                    
                    <h6>3. Configurando a atividade</h6>
                    <ul>
                        <li>Defina um título para a atividade</li>
                        <li>Adicione instruções para os alunos, se necessário</li>
                        <li>Escolha se deseja incluir cabeçalho para nome do aluno</li>
                        <li>Decida se quer gerar um gabarito separado</li>
                        <li>Clique em "Gerar PDF" para finalizar</li>
                    </ul>
                    
                    <h6>4. Personalizando seu perfil</h6>
                    <ul>
                        <li>Adicione o logo da sua escola</li>
                        <li>Insira o nome da instituição</li>
                        <li>Estas informações aparecerão nos documentos gerados</li>
                    </ul>
                    
                    <h6>5. Configurando a API do GPT-4</h6>
                    <ul>
                        <li>Acesse a seção de Configurações</li>
                        <li>Obtenha sua chave de API no site da <a href="https://platform.openai.com/api-keys" target="_blank">OpenAI</a></li>
                        <li>Insira a chave no campo "Chave da API do OpenAI (GPT-4)"</li>
                        <li>Selecione o modelo de IA desejado (GPT-4 recomendado para melhor qualidade)</li>
                        <li>Salve as configurações</li>
                    </ul>
                    
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i> <strong>Importante:</strong> A chave da API é necessária para gerar questões com IA. Sem ela, o sistema usará exemplos pré-definidos para demonstração.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Visualização de PDF -->
    <div class="modal fade" id="modalPDF" tabindex="-1" aria-labelledby="modalPDFLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="modalPDFLabel"><i class="fas fa-file-pdf me-2"></i>Visualização da Atividade</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fechar"></button>
                </div>
                <div class="modal-body">
                    <div id="pdfViewer" class="ratio ratio-16x9">
                        <!-- O PDF será exibido aqui -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                    <button type="button" class="btn btn-primary" id="btnDownloadPDF">
                        <i class="fas fa-download me-1"></i> Download
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="js/app.js"></script>
</body>
</html>